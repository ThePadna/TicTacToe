(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,n,i){e.exports=i(59)},33:function(e,n,i){},34:function(e,n,i){},42:function(e,n){},44:function(e,n){},59:function(e,n,i){"use strict";i.r(n);var t=i(0),s=i.n(t),r=i(24),o=i.n(r),l=(i(33),i(1)),h=i(2),u=i(26),a=i(25),g=i(27),d=i(6),c=(i(34),function(){function e(n,i){Object(l.a)(this,e),this.x=n,this.y=i}return Object(h.a)(e,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"setX",value:function(e){this.x=e}},{key:"setY",value:function(e){this.y=e}}]),e}()),f=function(){function e(n,i){Object(l.a)(this,e),this.coord1=n,this.coord2=i}return Object(h.a)(e,[{key:"getCoord1",value:function(){return this.coord1}},{key:"getCoord2",value:function(){return this.coord2}},{key:"contains",value:function(e){return e.getX()>=this.coord1.getX()&&e.getX()<=this.coord2.getX()&&e.getY()>=this.coord1.getY()&&e.getY()<=this.coord2.getY()}}]),e}(),w=function(){function e(n,i,t,s,r,o){Object(l.a)(this,e),this.ctx=n,this.cc=i,this.radius=t,this.startAngle=s,this.endAngle=r,this.gainPerTick=o,this.curAngle=0,this.tick=this.tick.bind(this)}return Object(h.a)(e,[{key:"tick",value:function(){this.curAngle+=this.gainPerTick,this.ctx.beginPath(),this.ctx.arc(this.cc.getX(),this.cc.getY(),this.radius,this.startAngle,this.curAngle),this.ctx.stroke(),this.curAngle<this.endAngle&&window.requestAnimationFrame(this.tick)}}]),e}(),O=(i(35),i(38),function(){function e(n,i,t,s){Object(l.a)(this,e),this.ctx=n,this.radius=s,this.cc=i,this.gainPerTick=t,this.curGain=0,this.tick=this.tick.bind(this)}return Object(h.a)(e,[{key:"tick",value:function(){this.curGain+=this.gainPerTick,this.ctx.beginPath();var e=this.cc.getX(),n=this.cc.getY();this.ctx.moveTo(e,n),this.ctx.lineTo(e+this.curGain,n+this.curGain),this.ctx.moveTo(e,n),this.ctx.lineTo(e-this.curGain,n-this.curGain),this.ctx.moveTo(e,n),this.ctx.lineTo(e-this.curGain,n+this.curGain),this.ctx.moveTo(e,n),this.ctx.lineTo(e+this.curGain,n-this.curGain),this.ctx.stroke(),this.curGain<this.radius&&window.requestAnimationFrame(this.tick)}}]),e}()),I=function(){function e(n,i){Object(l.a)(this,e),this.selection=n,this.value=null,this.owner=null,this.num=i}return Object(h.a)(e,[{key:"getSelection",value:function(){return this.selection}},{key:"getValue",value:function(){return this.value}},{key:"getIndex",value:function(){return this.num}},{key:"setValue",value:function(e){var n="You can only set a CellState's value with either x, o, or null.";e.includes("x")||e.includes("o")?e.length>1?(console.log(n),this.value=null):this.value=e:(console.log(n),this.value=null)}},{key:"setOwner",value:function(e){0==e||1==e?this.owner=e:console.log("You can only set a CellState's owner with either 0 or 1 (Player number).")}},{key:"getOwner",value:function(){return this.owner}},{key:"claim",value:function(e,n,i){var t=document.querySelector("#gamecanvas").getContext("2d"),s=this.getSelection(),r=s.getCoord1(),o=s.getCoord2(),l=(r.getX()+o.getX())/2,h=(r.getY()+o.getY())/2;"x"===n?(new O(t,new c(l,h),1.5,i/3).tick(),this.setValue(n),this.setOwner(e)):"o"===n&&(new w(t,new c(l,h),i/3,0,2*Math.PI,2*Math.PI/50).tick(),this.setValue(n),this.setOwner(e))}}]),e}(),v=function(){function e(n,i){switch(Object(l.a)(this,e),this.missPlay=10,null==this.difficulty&&console.log("debug"),i){case"Easy":this.missPlay=30;break;case"Medium":this.missPlay=20;break;case"Hard":this.missPlay=10;break;case"Impossible":this.missPlay=0}this.size=n,this.jumpSize=null,this.gameState=[n*n],this.turn=0,this.p1Symbol=2*Math.random()<1?"x":"o",this.aiTakeTurn=this.aiTakeTurn.bind(this),this.edgeCells=[];for(var t=0,s=0;s<this.size;s++)console.log("loop #1 pushing "+t),this.edgeCells.push(t),t++;t=this.size-1;for(var r=0;r<this.size;r++)console.log("loop #2 pushing "+t),this.edgeCells.push(t),t+=this.size;t=0;for(var o=0;o<this.size;o++)console.log("loop #3 pushing "+t),this.edgeCells.push(t),t+=this.size;t=this.size*this.size-this.size;for(var h=0;h<this.size;h++)console.log("loop #4 pushing "+t),this.edgeCells.push(t),t++;console.log("edge cells");for(var u=0;u<this.edgeCells.length;u++)console.log(u)}return Object(h.a)(e,[{key:"draw",value:function(){var e=this;this.setDisplayWhosTurn("your");var n=document.getElementById("gamecanvas"),i=n.width,t=n.height,s=document.querySelector("#gamecanvas").getContext("2d");s.lineWidth=40/this.size,s.fillStyle="white",s.fillRect(0,0,i,t),s.fillStyle="black";var r=i/this.size,o=0,l=0;this.jumpSize=r,n.addEventListener("click",function(n){e.clicked(new c(n.offsetX,n.offsetY),s,r)});for(var h=0;h<this.size;h++)l+=r,s.moveTo(l,0),s.lineTo(l,t),s.stroke();for(var u=0;u<this.size;u++)o+=r,s.moveTo(0,o),s.lineTo(i,o),s.stroke();for(var a=0,g=0,d=!0,w=0;w<this.size*this.size;w++){d&&(g+=r,d=!1),a+r>t&&(a=0,g+=r);var O=g-r,v=a,m=g,B=a+=r;this.gameState[w]=new I(new f(new c(O,v),new c(m,B)),w)}}},{key:"clicked",value:function(e,n,i){if(0==this.turn)for(var t=0;t<this.gameState.length;t++){if(this.gameState[t].getSelection().contains(e)){var s=this.gameState[t];if(null!=s.getOwner())return;s.claim(this.turn,this.p1Symbol,i);for(var r=[],o=[],l=0;l<this.gameState.length;l++)1===this.gameState[l].getOwner()?(r.push(this.gameState[l]),!0):0==this.gameState[l].getOwner()&&o.push(this.gameState[l]);this.checkForWinCondition(o,r)||(this.turn=1,this.setDisplayWhosTurn("AI's"),setTimeout(this.aiTakeTurn,1500))}}}},{key:"aiTakeTurn",value:function(){var e="x"===this.p1Symbol?"o":"x",n=100*Math.random(),i=n<this.missPlay;console.log("rdm "+n+" missplay"+this.missPlay),console.log("Missplay: "+i);for(var t=[],s=[],r=!1,o=0;o<this.gameState.length;o++)1===this.gameState[o].getOwner()?(t.push(this.gameState[o]),r=!0):0==this.gameState[o].getOwner()&&s.push(this.gameState[o]);if(r||3!=this.size){if(this.size>3){for(var l=[],h=0;h<t.length;h++){var u=t[h].getIndex(),a=u-1,g=u+1,d=u+this.size,c=u-this.size,f=a-this.size,w=a+this.size,O=(this.size,g+this.size);if(this.size>3){if(this.isInBounds(a)&&this.isInBounds(g)&&this.isOnSameRow(u,a)&&this.isOnSameRow(u,g)){var I=a-1,v=g+1;if(this.isInBounds(I)&&this.isInBounds(v)){var m=this.findByIndex(I),B=this.findByIndex(v),E=this.findByIndex(a),y=this.findByIndex(g),T=0;if(null!=m.getOwner()&&(T+=m.getOwner()),null!=B.getOwner()&&(T+=B.getOwner()),null!=E.getOwner()&&(T+=E.getOwner()),null!=y.getOwner()&&(T+=y.getOwner()),console.log("Vert score "+T),1==m.getOwner()&&1==E.getOwner())if(1==y.getOwner()){if(null==B.getOwner()){l.push([T,B]);continue}}else if(1==B.getOwner()){if(null==y.getOwner()){l.push([T,y]);continue}}else{var x=2*Math.random()<1?y:B;if(null==x.getOwner()){l.push([T,x]);continue}}if(1==y.getOwner()&&1==B.getOwner())if(1==E.getOwner()){if(null==m.getOwner()){l.push([T,m]);continue}}else if(1==m.getOwner()){if(null==E.getOwner()){l.push([T,E]);continue}}else{var p=2*Math.random()<1?E:m;if(null==p.getOwner()){l.push([T,p]);continue}}if(1==y.getOwner()&&1==E.getOwner())if(1==m.getOwner()){if(null==B.getOwner()){l.push([T,B]);continue}}else if(1==B.getOwner()){if(null==m.getOwner()){l.push([T,m]);continue}}else{var z=2*Math.random()<1?B:m;if(null==z.getOwner()){l.push([T,z]);continue}}if(1==m.getOwner()&&1==B.getOwner())if(1==E.getOwner()){if(null==y.getOwner()){l.push([T,y]);continue}}else if(1==y.getOwner()){if(null==E.getOwner()){l.push([T,E]);continue}}else{var k=2*Math.random()<1?E:y;if(null==k.getOwner()){l.push([T,k]);continue}}}}if(this.isInBounds(f)&&this.isInBounds(O)&&!this.isHittingEdge(u)){var S=f-1-this.size,A=g+1+this.size;if(this.isInBounds(S)&&this.isInBounds(A)&&!this.isHittingEdge(f)&&!this.isHittingEdge(w)){var b=this.findByIndex(S),W=this.findByIndex(A),D=this.findByIndex(f),G=this.findByIndex(O),H=0;if(null!=b.getOwner()&&(H+=b.getOwner()),null!=W.getOwner()&&(H+=W.getOwner()),null!=D.getOwner()&&(H+=D.getOwner()),null!=G.getOwner()&&(H+=G.getOwner()),console.log("Oblique 0 score "+H),1==b.getOwner()&&1==D.getOwner())if(1==G.getOwner()){if(null==W.getOwner()){l.push([H,W]);continue}}else if(1==W.getOwner()){if(null==G.getOwner()){l.push([H,G]);continue}}else{var M=2*Math.random()<1?G:W;if(null==M.getOwner()){l.push([H,M]);continue}}if(1==G.getOwner()&&1==W.getOwner())if(1==D.getOwner()){if(null==b.getOwner()){l.push([H,b]);continue}}else if(1==b.getOwner()){if(null==D.getOwner()){l.push([H,D]);continue}}else{var U=2*Math.random()<1?D:b;if(null==U.getOwner()){l.push([H,U]);continue}}if(1==G.getOwner()&&1==D.getOwner())if(1==b.getOwner()){if(null==W.getOwner()){l.push([H,W]);continue}}else if(1==W.getOwner()){if(null==b.getOwner()){l.push([H,b]);continue}}else{var R=2*Math.random()<1?W:b;if(null==R.getOwner()){l.push([H,R]);continue}}if(1==b.getOwner()&&1==W.getOwner())if(1==D.getOwner()){if(null==G.getOwner()){l.push([H,G]);continue}}else if(1==G.getOwner()){if(null==D.getOwner()){l.push([H,D]);continue}}else{var C=2*Math.random()<1?D:G;if(null==C.getOwner()){l.push([H,C]);continue}}}}if(this.isInBounds(c)&&this.isInBounds(d)&&!this.isHittingEdge(u)){var j=c-this.size,P=d+this.size;if(this.isInBounds(j)&&this.isInBounds(P)&&!this.isHittingEdge(c)&&!this.isHittingEdge(d)){var N=this.findByIndex(j),Y=this.findByIndex(P),X=this.findByIndex(c),q=this.findByIndex(d),F=0;if(null!=N.getOwner()&&(F+=N.getOwner()),null!=Y.getOwner()&&(F+=Y.getOwner()),null!=X.getOwner()&&(F+=X.getOwner()),null!=q.getOwner()&&(F+=q.getOwner()),console.log("hori score "+F),1==N.getOwner()&&1==X.getOwner())if(1==q.getOwner()){if(null==Y.getOwner()){l.push([F,Y]);continue}}else if(1==Y.getOwner()){if(null==q.getOwner()){l.push([F,q]);continue}}else{var V=2*Math.random()<1?q:Y;if(null==V.getOwner()){l.push([F,V]);continue}}if(1==q.getOwner()&&1==Y.getOwner())if(1==X.getOwner()){if(null==N.getOwner()){l.push([F,N]);continue}}else if(1==N.getOwner()){if(null==X.getOwner()){l.push([F,X]);continue}}else{var L=2*Math.random()<1?X:N;if(null==L.getOwner()){l.push([F,L]);continue}}if(1==q.getOwner()&&1==X.getOwner())if(1==N.getOwner()){if(null==Y.getOwner()){l.push([F,Y]);continue}}else if(1==Y.getOwner()){if(null==N.getOwner()){l.push([F,N]);continue}}else{var Z=2*Math.random()<1?Y:N;if(null==Z.getOwner()){l.push([F,Z]);continue}}if(1==N.getOwner()&&1==Y.getOwner())if(1==X.getOwner()){if(null==q.getOwner()){l.push([F,q]);continue}}else if(1==q.getOwner()){if(null==X.getOwner()){l.push([F,X]);continue}}else{var J=2*Math.random()<1?X:q;if(null==J.getOwner()){l.push([F,J]);continue}}}}}}for(var _=null,$=0;$<l.length;$++){var K=l[$][0];null!=_?K>_[0]&&(_=l[$]):_=l[$]}if(null!=_&&_[0]>2)return console.log("claiming with current highest."),void this.claimEndAITurn(_[1],e,s,t);if(!i){for(var Q=0;Q<s.length;Q++){var ee=s[Q].getIndex(),ne=ee-1,ie=ee+1,te=ee+this.size,se=ee-this.size,re=ne-this.size,oe=ne+this.size,le=ie-this.size,he=ie+this.size;if(this.size>3){if(this.isInBounds(ne)&&this.isOnSameRow(ee,ne)&&this.isInBounds(ie)&&this.isOnSameRow(ee,ie)){var ue=ne-1,ae=ie+1;if(this.isInBounds(ue)&&this.isOnSameRow(ee,ue)&&this.isInBounds(ae)&&this.isOnSameRow(ae,ee)){var ge=this.findByIndex(ne),de=this.findByIndex(ie),ce=this.findByIndex(ue),fe=this.findByIndex(ae);if(0==ge.getOwner()&&0==de.getOwner()&&0==ce.getOwner()&&null==fe.getOwner())return this.claimEndAITurn(fe,e,s,t),void console.log("DEBUG1");if(0==ge.getOwner()&&0==de.getOwner()&&0==fe.getOwner()&&null==ce.getOwner())return this.claimEndAITurn(ce,e,s,t),void console.log("DEBUG2");if(0==ce.getOwner()&&0==de.getOwner()&&0==fe.getOwner()&&null==ge.getOwner())return this.claimEndAITurn(ge,e,s,t),void console.log("DEBUG3");if(0==ge.getOwner()&&0==ce.getOwner()&&0==fe.getOwner()&&null==de.getOwner())return this.claimEndAITurn(de,e,s,t),void console.log("DEBUG4");if(0==de.getOwner()&&0==fe.getOwner()&&null==ge.getOwner())return this.claimEndAITurn(ge,e,s,t),void console.log("DEBUG5");if(0==ge.getOwner()&&0==ce.getOwner()&&0==de.getOwner()&&null==fe.getOwner())return this.claimEndAITurn(fe,e,s,t),void console.log("DEBUG_d1");if(0==ge.getOwner()&&0==fe.getOwner()&&0==de.getOwner()&&null==ce.getOwner())return this.claimEndAITurn(ce,e,s,t),void console.log("DEBUG_d2");if(0==ge.getOwner()&&0==de.getOwner()){for(var we=!1,Oe=!1,Ie=0;!we;){var ve=ue-++Ie;this.isInBounds(ve)&&this.isOnSameRow(ee,ve)||(we=!0)}for(var me=0;!Oe;){var Be=ae+ ++me;this.isInBounds(Be)&&this.isOnSameRow(ee,Be)||(Oe=!0)}if(Ie>me&&null==ce.getOwner())return console.log("DEBUG6"),void this.claimEndAITurn(ce,e,s,t);if(me>Ie&&null==fe.getOwner())return console.log("DEBUG7"),void this.claimEndAITurn(fe,e,s,t);var Ee=null;if(null==(Ee=null!=ce.getOwner()?fe:null!=fe.getOwner()?ce:2*Math.random()<1?ce:fe).getOwner())return this.claimEndAITurn(Ee,e,s,t),void console.log("DEBUG8")}}}if(this.isInBounds(se)&&this.isInBounds(te)&&!this.isHittingEdge(ee)&&!this.isHittingEdge(se)&&!this.isHittingEdge(te)){var ye=se-this.size,Te=te+this.size;if(this.isInBounds(ye)&&this.isInBounds(Te)){var xe=this.findByIndex(se),pe=this.findByIndex(te),ze=this.findByIndex(ye),ke=this.findByIndex(Te);if(0==xe.getOwner()&&0==pe.getOwner()&&0==ze.getOwner()&&null==ke.getOwner())return this.claimEndAITurn(ke,e,s,t),void console.log("DEBUG9");if(0==xe.getOwner()&&0==pe.getOwner()&&0==ke.getOwner()&&null==ze.getOwner())return this.claimEndAITurn(ze,e,s,t),void console.log("DEBUG10");if(0==pe.getOwner()&&0==ke.getOwner()&&0==ze.getOwner()&&null==xe.getOwner())return this.claimEndAITurn(xe,e,s,t),void console.log("DEBUG11");if(0==xe.getOwner()&&0==ke.getOwner()&&0==ze.getOwner()&&null==pe.getOwner())return this.claimEndAITurn(pe,e,s,t),void console.log("DEBUG12");if(0==xe.getOwner()&&0==ke.getOwner()&&null==pe.getOwner())return this.claimEndAITurn(pe,e,s,t),void console.log("DEBUG13");if(0==pe.getOwner()&&0==ze.getOwner()&&null==xe.getOwner())return this.claimEndAITurn(xe,e,s,t),void console.log("DEBUG14");if(0==xe.getOwner()&&0==pe.getOwner()){for(var Se=!1,Ae=!1,be=0;!Se;){var We=ye-(be+=this.size);this.isInBounds(We)&&0!=this.findByIndex(We).getOwner()||(Se=!0)}for(var De=0;!Ae;){var Ge=Te+(De+=this.size);this.isInBounds(Ge)&&0!=this.findByIndex(Ge).getOwner()||(Ae=!0)}if(be>De&&null==ze.getOwner())return this.claimEndAITurn(ze,e,s,t),void console.log("DEBUG15");if(De>be&&null==ke.getOwner())return this.claimEndAITurn(ke,e,s,t),void console.log("DEBUG16");var He=null;if(null==(He=null!=ze.getOwner()?ze:null!=ke.getOwner()?ke:2*Math.random()<1?ze:ke).getOwner())return this.claimEndAITurn(He,e,s,t),void console.log("DEBUG17")}}}if(this.isInBounds(re)&&!this.isHittingEdge(re)&&this.isInBounds(he)&&!this.isHittingEdge(he)){console.log("oblique line SPOTTED");var Me=re-1-this.size,Ue=he+1+this.size;if(this.isInBounds(Me)&&this.isInBounds(Ue)){var Re=this.findByIndex(re),Ce=this.findByIndex(he),je=this.findByIndex(Me),Pe=this.findByIndex(Ue);if(0==Re.getOwner()&&0==Ce.getOwner()&&0==je.getOwner()&&null==Pe.getOwner())return this.claimEndAITurn(Pe,e,s,t),void console.log("DEBUG18");if(0==Re.getOwner()&&0==Ce.getOwner()&&0==Pe.getOwner()&&null==je.getOwner())return this.claimEndAITurn(je,e,s,t),void console.log("DEBUG19");if(0==Ce.getOwner()&&0==je.getOwner()&&0==Pe.getOwner()&&null==Re.getOwner())return this.claimEndAITurn(Re,e,s,t),void console.log("DEBUG20");if(0==Re.getOwner()&&0==je.getOwner()&&0==Pe.getOwner()&&null==Ce.getOwner())return this.claimEndAITurn(Ce,e,s,t),void console.log("DEBUG21");if(0==Ce.getOwner()&&0==Pe.getOwner()&&null==Re.getOwner())return this.claimEndAITurn(Re,e,s,t),void console.log("DEBUG22");if(0==Re.getOwner()&&0==je.getOwner()&&0==Ce.getOwner()&&null==Pe.getOwner())return this.claimEndAITurn(Pe,e,s,t),void console.log("DEBUG23");if(0==Re.getOwner()&&0==Ce.getOwner()){for(var Ne=!1,Ye=!1,Xe=0;!Ne;){var qe=Me-++Xe-Xe*this.size;this.isInBounds(qe)||(Ne=!0)}for(var Fe=0;!Ye;){var Ve=Ue+ ++Fe+Xe*this.size;this.isInBounds(Ve)||(Ye=!0)}if(Xe>Fe&&null==je.getOwner())return this.claimEndAITurn(je,e,s,t),void console.log("DEBUG24");if(Fe>Xe&&null==Pe.getOwner())return this.claimEndAITurn(Pe,e,s,t),void console.log("DEBUG25");var Le=null;if(null==(Le=null!=je.getOwner()?Pe:null!=Pe.getOwner()?je:2*Math.random()<1?je:Pe).getOwner())return this.claimEndAITurn(Le,e,s,t),void console.log("DEBUG26")}}}if(this.isInBounds(oe)&&!this.isHittingEdge(oe)&&this.isInBounds(le)&&!this.isHittingEdge(le)){var Ze=oe-1+this.size,Je=he-1-this.size;if(this.isInBounds(Ze)&&this.isInBounds(Je)){var _e=this.findByIndex(le),$e=this.findByIndex(oe),Ke=this.findByIndex(Ze),Qe=this.findByIndex(Je);if(0==_e.getOwner()&&0==$e.getOwner()&&0==Qe.getOwner()&&null==Ke.getOwner())return this.claimEndAITurn(Ke,e,s,t),void console.log("DEBUG27");if(0==_e.getOwner()&&0==$e.getOwner()&&0==Ke.getOwner()&&null==Qe.getOwner())return this.claimEndAITurn(Qe,e,s,t),void console.log("DEBUG28");if(0==$e.getOwner()&&0==Qe.getOwner()&&0==Ke.getOwner()&&null==_e.getOwner())return this.claimEndAITurn(_e,e,s,t),void console.log("DEBUG29");if(0==_e.getOwner()&&0==Qe.getOwner()&&0==Ke.getOwner()&&null==$e.getOwner())return this.claimEndAITurn($e,e,s,t),void console.log("DEBUG30");if(0==$e.getOwner()&&0==Ke.getOwner()&&null==_e.getOwner())return this.claimEndAITurn(_e,e,s,t),void console.log("DEBUG31");if(0==_e.getOwner()&&0==Qe.getOwner()&&0==$e.getOwner()&&null==Ke.getOwner())return this.claimEndAITurn(Ke,e,s,t),void console.log("DEBUG32");if(0==_e.getOwner()&&0==$e.getOwner()){for(var en=!1,nn=!1,tn=0;!en;){var sn=Je+ ++tn-tn*this.size;this.isInBounds(sn)||(en=!0)}for(var rn=0;!nn;){var on=Ze-++rn+tn*this.size;this.isInBounds(on)||(nn=!0)}if(tn>rn&&null==Qe.getOwner())return this.claimEndAITurn(Qe,e,s,t),void console.log("DEBUG33");if(rn>tn&&null==Ke.getOwner())return this.claimEndAITurn(Ke,e,s,t),void console.log("DEBUG34");var ln=null;if(null==(ln=null!=Qe.getOwner()?Ke:null!=Ke.getOwner()?Qe:2*Math.random()<1?Qe:Ke).getOwner())return this.claimEndAITurn(ln,e,s,t),void console.log("DEBUG35")}}}}}if(null!=_)return this.claimEndAITurn(_[1],e,s,t),void console.log("DEBUG36")}}for(var hn=0;hn<t.length;hn++){var un=t[hn].getIndex(),an=un-1,gn=un+1,dn=un+this.size,cn=un-this.size,fn=an-this.size,wn=an+this.size,On=gn-this.size,In=gn+this.size;if(this.isInBounds(an)&&this.isInBounds(gn)&&this.isOnSameRow(un,an)&&this.isOnSameRow(un,gn)){var vn=this.findByIndex(an),mn=this.findByIndex(gn);if(1==vn.getOwner()&&null==mn.getOwner())return this.claimEndAITurn(mn,e,s,t),void console.log("okTEST4");if(1==mn.getOwner()&&null==vn.getOwner())return this.claimEndAITurn(vn,e,s,t),void console.log("okTEST3")}if(this.isInBounds(dn)&&this.isInBounds(cn)){var Bn=this.findByIndex(cn),En=this.findByIndex(dn);if(1==Bn.getOwner()&&null==En.getOwner())return console.log("okTEST1"),void this.claimEndAITurn(En,e,s,t);if(1==En.getOwner()&&null==Bn.getOwner())return console.log("okTEST2"),void this.claimEndAITurn(Bn,e,s,t)}if(this.isInBounds(fn)&&this.isInBounds(In)&&!this.isHittingEdge(un)){var yn=this.findByIndex(fn),Tn=this.findByIndex(In);if(1==yn.getOwner()&&null==Tn.getOwner()){if(!(this.size>3))return this.claimEndAITurn(Tn,e,s,t),void console.log("okTEST5");var xn=wn-1+this.index,pn=On+1-this.index;if(this.isInBounds(xn)&&this.isInBounds(pn)){var zn=this.findByIndex(xn),kn=this.findByIndex(pn);if((null==zn.getOwner()||1==zn.getOwner())&&(null==kn.getOwner()||1==kn.getOwner()))return this.claimEndAITurn(Tn,e,s,t),void console.log("okTEST5 size>3")}}if(1==Tn.getOwner()&&null==yn.getOwner()){if(!(this.size>3))return this.claimEndAITurn(yn,e,s,t),void console.log("okTEST6");var Sn=wn-1+this.index,An=On+1-this.index;if(this.isInBounds(Sn)&&this.isInBounds(An)){var bn=this.findByIndex(Sn),Wn=this.findByIndex(An);if((null==bn.getOwner()||1==bn.getOwner())&&(null==Wn.getOwner()||1==Wn.getOwner()))return this.claimEndAITurn(yn,e,s,t),void console.log("okTEST6 size>3")}}}if(this.isInBounds(wn)&&this.isInBounds(On)&&!this.isHittingEdge(un)){var Dn=this.findByIndex(wn),Gn=this.findByIndex(On);if(1==Dn.getOwner()&&null==Gn.getOwner()){if(!(this.size>3))return this.claimEndAITurn(Gn,e,s,t),void console.log("okTEST7");var Hn=wn-1+this.index,Mn=On+1-this.index;if(this.isInBounds(Hn)&&this.isInBounds(Mn)){var Un=this.findByIndex(Hn),Rn=this.findByIndex(Mn);if((null==Un.getOwner()||1==Un.getOwner())&&(null==Rn.getOwner()||1==Rn.getOwner()))return this.claimEndAITurn(Gn,e,s,t),void console.log("okTEST7 size>3")}}if(1==Gn.getOwner()&&null==Dn.getOwner()){if(!(this.size>3))return this.claimEndAITurn(Dn,e,s,t),void console.log("okTEST8");var Cn=wn-1+this.index,jn=On+1-this.index;if(this.isInBounds(Cn)&&this.isInBounds(jn)){var Pn=this.findByIndex(Cn),Nn=this.findByIndex(jn);if((null==Pn.getOwner()||1==Pn.getOwner())&&(null==Nn.getOwner()||1==Nn.getOwner()))return this.claimEndAITurn(Dn,e,s,t),void console.log("okTEST8 size>3")}}}}if(!i)for(var Yn=0;Yn<s.length;Yn++){var Xn=s[Yn].getIndex(),qn=Xn-1,Fn=Xn+1,Vn=Xn+this.size,Ln=Xn-this.size;if(this.isInBounds(qn)&&this.isOnSameRow(Xn,qn)){if(this.isInBounds(Fn)&&this.isOnSameRow(Fn,Xn)){var Zn=this.findByIndex(qn),Jn=this.findByIndex(Fn);if(0==Zn.getOwner()&&null==Jn.getOwner())return this.claimEndAITurn(Jn,e,s,t),void console.log("okTEST1");if(0==Jn.getOwner()&&null==Zn.getOwner())return this.claimEndAITurn(Zn,e,s,t),void console.log("okTEST2")}var _n=qn-1;if(this.isInBounds(_n)&&this.isOnSameRow(qn,_n)){var $n=this.findByIndex(_n),Kn=this.findByIndex(qn);if(0==Kn.getOwner()){if(null==$n.getOwner())return this.claimEndAITurn($n,e,s,t),void console.log("okTEST3")}else if(0==$n.getOwner()&&null==Kn.getOwner())return this.claimEndAITurn(Kn,e,s,t),void console.log("okTEST4")}}if(this.isInBounds(Fn)&&this.isOnSameRow(Xn,Fn)){var Qn=Fn+1;if(this.isInBounds(Qn)&&this.isOnSameRow(Fn,Qn)){var ei=this.findByIndex(Qn),ni=this.findByIndex(Fn);if(0==ni.getOwner()){if(null==ei.getOwner())return this.claimEndAITurn(ei,e,s,t),void console.log("okTEST5")}else if(0==ei.getOwner()&&null==ni.getOwner())return this.claimEndAITurn(ni,e,s,t),void console.log("okTEST6")}}if(this.isInBounds(Vn)){if(this.isInBounds(Ln)){var ii=this.findByIndex(Vn),ti=this.findByIndex(Ln);if(0==ii.getOwner()&&null==ti.getOwner())return this.claimEndAITurn(ti,e,s,t),void console.log("okTEST7");if(0==ti.getOwner()&&null==ii.getOwner())return this.claimEndAITurn(ii,e,s,t),void console.log("okTEST8")}var si=Vn+this.size;if(this.isInBounds(si)){var ri=this.findByIndex(si),oi=this.findByIndex(Vn);if(0==oi.getOwner()){if(null==ri.getOwner())return console.log("okTEST9"),void this.claimEndAITurn(ri,e,s,t)}else if(0==ri.getOwner()&&null==oi.getOwner())return console.log("okTEST10"),void this.claimEndAITurn(oi,e,s,t)}}if(this.isInBounds(Ln)){var li=Ln-this.size;if(this.isInBounds(li)){var hi=this.findByIndex(li),ui=this.findByIndex(Ln);if(0==ui.getOwner()){if(null==hi.getOwner())return console.log("okTEST11"),void this.claimEndAITurn(hi,e,s,t)}else if(0==hi.getOwner()&&null==ui.getOwner())return console.log("okTEST12"),void this.claimEndAITurn(ui,e,s,t)}}var ai=qn-this.size,gi=Fn+this.size;if(this.isInBounds(ai)&&this.isInBounds(gi)&&!this.isHittingEdge(Xn)){var di=this.findByIndex(ai),ci=this.findByIndex(gi);if(0==di.getOwner()){if(null==ci.getOwner())return console.log("okTEST13"),void this.claimEndAITurn(ci,e,s,t)}else if(0==ci.getOwner()&&null==di.getOwner())return console.log("okTEST14"),void this.claimEndAITurn(di,e,s,t)}var fi=qn+this.size,wi=Fn-this.size;if(this.isInBounds(fi)&&this.isInBounds(wi)&&!this.isHittingEdge(Xn)){var Oi=this.findByIndex(fi),Ii=this.findByIndex(wi);if(0==Oi.getOwner()){if(null==Ii.getOwner())return console.log("okTEST15"),void this.claimEndAITurn(Ii,e,s,t)}else if(0==Ii.getOwner()&&null==Oi.getOwner())return console.log("okTEST16"),void this.claimEndAITurn(Oi,e,s,t)}}for(var vi=0;vi<s.length;vi++){var mi=s[vi].getIndex(),Bi=mi-1,Ei=mi+1,yi=mi+this.size,Ti=mi-this.size;if(this.isInBounds(Bi)){var xi=this.findByIndex(Bi);if(null==xi.getOwner())return console.log("okTES1T"),void this.claimEndAITurn(xi,e,s,t)}if(this.isInBounds(Ei)){var pi=this.findByIndex(Ei);if(null==pi.getOwner())return void this.claimEndAITurn(pi,e,s,t)}if(this.isInBounds(yi)){var zi=this.findByIndex(yi);if(null==zi.getOwner())return void this.claimEndAITurn(zi,e,s,t)}if(this.isInBounds(Ti)){var ki=this.findByIndex(Ti);if(null==ki.getOwner())return void this.claimEndAITurn(ki,e,s,t)}}}else if(s.length>0)for(var Si=0;Si<this.gameState.length;Si++)if(this.gameState[Si].getIndex()==Math.floor(this.size*this.size/2)){if(null===this.gameState[Si].getOwner())return void this.claimEndAITurn(this.gameState[Si],e,s,t);var Ai=2*Math.random()<1?0:this.gameState.length-1;return void this.claimEndAITurn(this.gameState[Ai],e,s,t)}}},{key:"claimEndAITurn",value:function(e,n,i,t){console.log(Math.random()+"claimEndAITurn"+e.getIndex()),e.claim(this.turn,n,this.jumpSize),this.checkForWinCondition(i,t)||(this.turn=0,this.setDisplayWhosTurn("your"))}},{key:"checkForWinCondition",value:function(e,n){for(var i=!1,t=0;t<this.gameState.length;t++)if(null==this.gameState[t].getOwner()){i=!0;break}if(!i)return this.setDisplayWhosWon("TIE"),!0;for(var s=0;s<e.length;s++){var r=e[s].getIndex(),o=r-1,l=r+1,h=r+this.size,u=r-this.size;if(this.isInBounds(o)&&this.isInBounds(l)&&this.isOnSameRow(r,o)&&this.isOnSameRow(r,l)){var a=this.findByIndex(o),g=this.findByIndex(l);if(0==a.getOwner()&&0==g.getOwner()){if(!(this.size>3)){var d=[a,g,e[s]];return this.setDisplayWhosWon("you",d),console.log("WIN 1"),!0}var c=o-1,f=l+1;if(this.isInBounds(f)&&this.isInBounds(c)&&this.isOnSameRow(r,c)&&this.isOnSameRow(r,f)){var w=this.findByIndex(f),O=this.findByIndex(c);if(0==w.getOwner()&&0==O.getOwner()){var I=[a,g,w,O,e[s]];return this.setDisplayWhosWon("you",I),console.log("WIN 1 size>3"),!0}}}}if(this.isInBounds(u)&&this.isInBounds(h)){var v=this.findByIndex(u),m=this.findByIndex(h);if(0==v.getOwner()&&0==m.getOwner()&&!this.isHittingEdge(r)){if(!(this.size>3)){var B=[v,m,e[s]];return this.setDisplayWhosWon("you",B),console.log("WIN 2"),!0}var E=u-this.size,y=h+this.size;if(this.isInBounds(E)&&this.isInBounds(y)&&E<r&&y>r){var T=this.findByIndex(E),x=this.findByIndex(y);if(0==T.getOwner()&&0==x.getOwner()){var p=[T,x,v,m,e[s]];return this.setDisplayWhosWon("you",p),console.log("WIN 2 size>3"),!0}}}}var z=o+this.size,k=l-this.size;if(this.isOnSameRow(r,o)&&this.isOnSameRow(r,l)&&this.isInBounds(z)&&this.isInBounds(k)){var S=this.findByIndex(z),A=this.findByIndex(k);if(!this.isHittingEdge(r)&&0==S.getOwner()&&0==A.getOwner()){if(!(this.size>3)){var b=[S,A,e[s]];return this.setDisplayWhosWon("you",b),console.log("WIN 6"),!0}var W=z-1+this.size,D=k+1-this.size;if(this.isInBounds(W)&&this.isInBounds(D)&&!this.isHittingEdge(z)&&!this.isHittingEdge(k)){var G=this.findByIndex(W),H=this.findByIndex(D);if(0==G.getOwner()&&0==H.getOwner()){var M=[S,A,G,H,e[s]];return this.setDisplayWhosWon("you",M),console.log("WIN 6 size>3"),!0}}}}var U=o-this.size,R=l+this.size;if(this.isInBounds(U)&&this.isInBounds(R)){var C=this.findByIndex(U),j=this.findByIndex(R);if(!this.isHittingEdge(r)&&0==C.getOwner()&&0==j.getOwner()){if(!(this.size>3)){var P=[C,j,e[s]];return this.setDisplayWhosWon("you",P),console.log("WIN 8"),!0}var N=U-1-this.size,Y=R+1+this.size;if(this.isInBounds(N)&&this.isInBounds(Y)&&!this.isHittingEdge(R)&&!this.isHittingEdge(U)){var X=this.findByIndex(N),q=this.findByIndex(Y);if(0==X.getOwner()&&0==q.getOwner()){var F=[C,j,q,X,e[s]];return this.setDisplayWhosWon("you",F),console.log("WIN 8 size>3"),!0}}}}}for(var V=0;V<n.length;V++){var L=n[V].getIndex(),Z=L-1,J=L+1,_=L+this.size,$=L-this.size;if(this.isInBounds(Z)&&this.isInBounds(J)&&this.isOnSameRow(L,J)&&this.isOnSameRow(L,Z)){var K=this.findByIndex(Z),Q=this.findByIndex(J);if(1==K.getOwner()&&1==Q.getOwner()){if(!(this.size>3)){var ee=[K,Q,n[V]];return this.setDisplayWhosWon("AI",ee),console.log("WIN 3"),!0}var ne=Z-1,ie=J+1;if(this.isInBounds(ie)&&this.isInBounds(ne)&&this.isOnSameRow(L,ie)&&this.isOnSameRow(L,ne)){var te=this.findByIndex(ie),se=this.findByIndex(ne);if(1==te.getOwner()&&1==se.getOwner()){var re=[K,Q,te,se,n[V]];return this.setDisplayWhosWon("AI",re),console.log("WIN 3 SIZE>3"),!0}}}}if(this.isInBounds($)&&this.isInBounds(_)){var oe=this.findByIndex($),le=this.findByIndex(_);if(1==oe.getOwner()&&1==le.getOwner()){if(!(this.size>3)){var he=[oe,le,n[V]];return this.setDisplayWhosWon("AI",he),console.log("WIN 4"),!0}var ue=$-this.size,ae=_+this.size;if(this.isInBounds(ue)&&this.isInBounds(ae)&&ue<L&&ae>L){var ge=this.findByIndex(ue),de=this.findByIndex(ae);if(1==ge.getOwner()&&1==de.getOwner()){var ce=[oe,le,ge,de,n[V]];return this.setDisplayWhosWon("AI",ce),console.log("WIN 4 SIZE>3"),!0}}}}var fe=Z-this.size,we=J+this.size;if(this.isInBounds(fe)&&this.isInBounds(we)){var Oe=this.findByIndex(fe),Ie=this.findByIndex(we);if(1==Oe.getOwner()&&1==Ie.getOwner()&&!this.isHittingEdge(L)){if(!(this.size>3)){var ve=[Oe,Ie,n[V]];return this.setDisplayWhosWon("AI",ve),console.log("WIN 5"),!0}var me=fe-1-this.size,Be=we+1+this.size;if(this.isInBounds(me)&&this.isInBounds(Be)&&!this.isHittingEdge(we)&&!this.isHittingEdge(fe)){var Ee=this.findByIndex(me),ye=this.findByIndex(Be);if(1==Ee.getOwner()&&1==ye.getOwner()){var Te=[Oe,Ie,ye,Ee,n[V]];return this.setDisplayWhosWon("AI",Te),console.log("WIN 5 SIZE>3"),!0}}}}var xe=Z+this.size,pe=J-this.size;if(this.isInBounds(pe)&&this.isInBounds(xe)&&!this.isHittingEdge(L)){var ze=this.findByIndex(xe),ke=this.findByIndex(pe);if(1==ze.getOwner()&&1==ke.getOwner()&&!this.isHittingEdge(L)){if(!(this.size>3)){var Se=[ze,ke,n[V]];return this.setDisplayWhosWon("AI",Se),console.log("WIN 7"),!0}var Ae=xe-1+this.size,be=pe+1-this.size;if(this.isInBounds(Ae)&&this.isInBounds(be)&&!this.isHittingEdge(xe)&&!this.isHittingEdge(pe)){var We=this.findByIndex(Ae),De=this.findByIndex(be);if(1==We.getOwner()&&1==De.getOwner()){var Ge=[ze,ke,De,We,n[V]];return this.setDisplayWhosWon("AI",Ge),console.log("WIN 7 SIZE>3"),!0}}}}}return!1}},{key:"isInBounds",value:function(e){return e>=0&&e<this.size*this.size}},{key:"isOnSameRow",value:function(e,n){return Math.floor(e/this.size)==Math.floor(n/this.size)}},{key:"isHittingEdge",value:function(e){for(var n=0;n<this.edgeCells.length;n++)if(e==this.edgeCells[n])return!0;return!1}},{key:"isOnSameRowHorizontally",value:function(e,n){for(var i=0,t=!1;!t;){var s=e+(i+=this.size);if(this.isInBounds(s)||(t=!0),s==n)return!0}for(t=!1,i=0;!t;){var r=e-(i-=this.size);if(this.isInBounds(r)||(t=!0),r==n)return!0}return!1}},{key:"findByIndex",value:function(e){for(var n=0;n<this.gameState.length;n++)if(this.gameState[n].getIndex()==e)return this.gameState[n];return null}},{key:"difference",value:function(e,n){return Math.abs(e-n)}},{key:"setDisplayWhosTurn",value:function(e){e="&nbsp;"+e+"&nbsp;",document.getElementById("turn-info").innerHTML="<span>"+e+"</span>turn"}},{key:"setDisplayWhosWon",value:function(e,n){var i="<span>"+(e="&nbsp;"+e+"&nbsp;")+"</span>wins!";if(-1!=e.indexOf("you")&&(i="<span>"+e+"</span> win!"),null!=n){document.getElementById("turn-info").innerHTML=i;var t=document.querySelector("#gamecanvas").getContext("2d");t.lineWidth=15/this.size,t.strokeStyle="red";for(var s=0;s<n.length;s++){var r=n[s].getSelection(),o=r.getCoord1(),l=r.getCoord2();t.beginPath(),t.moveTo(o.getX(),o.getY()),t.lineTo(l.getX(),o.getY()),t.lineTo(l.getX(),l.getY()),t.lineTo(o.getX(),l.getY()),t.lineTo(o.getX(),o.getY()),t.stroke()}t.lineWidth=40/this.size,t.strokeStyle="black"}else document.getElementById("turn-info").innerHTML=i.substr(0,i.length-5)}}]),e}(),m=function(e){function n(e){var i;return Object(l.a)(this,n),(i=Object(u.a)(this,Object(a.a)(n).call(this,e))).gameInstance=null,i.state={inProgress:!1},i.hideToggle=i.hideToggle.bind(Object(d.a)(Object(d.a)(i))),i.backToMenu=i.backToMenu.bind(Object(d.a)(Object(d.a)(i))),i.difficulty="Medium",i.gridSize=3,i}return Object(g.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){if(this.state.inProgress){var e=document.getElementById("gridsize").getElementsByTagName("select")[0],n=document.getElementById("aidifficulty").getElementsByTagName("select")[0];this.difficulty=n.options[n.selectedIndex].value;var i=e.options[e.selectedIndex].value;return this.gridSize=parseInt(i.substr(0,1)),s.a.createElement("div",{id:"wrapper"},s.a.createElement("div",{id:"game-wrapper"},s.a.createElement("div",{id:"header"},s.a.createElement("p",null,"TicTacToe")),s.a.createElement("div",{id:"menubtnwrapper"},s.a.createElement("button",{id:"menubtn",onClick:this.backToMenu},"Back to Menu")),s.a.createElement("div",{id:"canvas-wrapper"},s.a.createElement("canvas",{id:"gamecanvas",height:"500px",width:"500px"})),s.a.createElement("p",{id:"turn-info"}),s.a.createElement("p",{id:"difficulty-info"})))}return s.a.createElement("div",{id:"wrapper"},s.a.createElement("div",{id:"header"},s.a.createElement("p",null,"TicTacToe")),s.a.createElement("div",{id:"options",style:{width:"800px",margin:"0 auto"}},s.a.createElement("div",{id:"gridsize"},s.a.createElement("h1",null,"Grid Size"),s.a.createElement("select",null,s.a.createElement("option",null,"3x3 - Classic"),s.a.createElement("option",null,"6x6 - 5-in-a-row"),s.a.createElement("option",null,"9x9 - 5-in-a-row"))),s.a.createElement("div",{id:"aidifficulty"},s.a.createElement("h1",null,"AI Difficulty"),s.a.createElement("select",null,s.a.createElement("option",null,"Easy"),s.a.createElement("option",null,"Medium"),s.a.createElement("option",null,"Hard"),s.a.createElement("option",null,"Impossible"))),s.a.createElement("button",{id:"startbtn",onClick:this.hideToggle},"Start")))}},{key:"componentDidUpdate",value:function(){if(this.state.inProgress){this.gameInstance=new v(this.gridSize,this.difficulty);var e=document.getElementById("difficulty-info");e.innerText=this.difficulty;var n="green";switch(this.difficulty){case"Medium":n="orange";break;case"Hard":n="firebrick";break;case"Impossible":n="red"}e.style.color=n,this.gameInstance.draw()}}},{key:"hideToggle",value:function(){this.setState({inProgress:!0})}},{key:"backToMenu",value:function(){this.gameInstance=null,this.setState({inProgress:!1})}},{key:"getGameInstance",value:function(){return this.gameInstance}}]),n}(t.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.ab8b051c.chunk.js.map